{% extends 'base.html' %}
{% block content %}
<div class="card card-primary">
  <div class="card-header d-flex justify-content-between align-items-center">
    <div>
      <h3 class="card-title mb-0">
        <i class="fas fa-clipboard-list mr-2"></i>
        Attendance Registers
      </h3>
      <small class="text-white">Manage class attendance records</small>
    </div>
    <a href="{% url 'attendance:register_create' %}" class="btn btn-success btn-sm">
      <i class="fas fa-plus-circle mr-1"></i> New Register
    </a>
  </div>
  <div class="card-body p-0">
    <div class="table-responsive">
      <table class="table table-hover table-striped mb-0">
        <thead class="thead-dark">
          <tr>
            <th width="15%">Date</th>
            <th width="25%">Class</th>
            <th width="20%">Term</th>
            <th width="20%">Session</th>
            <th width="20%" class="text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for reg in object_list %}
          <tr class="clickable-row" data-href="{% url 'attendance:register_detail' reg.pk %}">
            <td>
              <i class="fas fa-calendar-day text-primary mr-1"></i>
              <strong>{{ reg.date }}</strong>
            </td>
            <td>
              <i class="fas fa-users text-info mr-1"></i>
              {{ reg.student_class }}
            </td>
            <td>
              <span class="badge badge-secondary">
                {{ reg.term }}
              </span>
            </td>
            <td>
              <span class="badge badge-light">
                {{ reg.session }}
              </span>
            </td>
            <td class="text-center">
              <a href="{% url 'attendance:register_detail' reg.pk %}" class="btn btn-outline-primary btn-sm">
                <i class="fas fa-folder-open mr-1"></i> Open
              </a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="5" class="text-center py-5">
              <div class="empty-state">
                <i class="fas fa-clipboard-list fa-3x text-muted mb-3"></i>
                <h5>No Attendance Registers</h5>
                <p class="text-muted">No attendance registers have been created yet.</p>
                <a href="{% url 'attendance:register_create' %}" class="btn btn-primary mt-2">
                  <i class="fas fa-plus-circle mr-1"></i> Create First Register
                </a>
              </div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

<style>
.card-header {
  background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
  color: white;
}

.empty-state {
  padding: 2rem 1rem;
}

.empty-state h5 {
  color: #6c757d;
  margin-bottom: 0.5rem;
}

.clickable-row:hover {
  background-color: #f8f9fa;
  cursor: pointer;
  transform: translateY(-1px);
  transition: all 0.2s ease;
}

.table-hover tbody tr:hover {
  background-color: rgba(0, 123, 255, 0.05);
}

.badge {
  font-size: 0.75rem;
  padding: 0.4em 0.6em;
}

@media (max-width: 768px) {
  .table-responsive {
    font-size: 0.85rem;
  }
  
  .btn-sm {
    padding: 0.25rem 0.5rem;
    font-size: 0.8rem;
  }
}
</style>
{% endblock %}